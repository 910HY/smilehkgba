è«‹å¹«æˆ‘åœ¨æ ¹ç›®éŒ„å»ºç«‹ api è³‡æ–™å¤¾ï¼Œä¸¦æ–°å¢ä»¥ä¸‹ 4 å€‹æª”æ¡ˆï¼š

- clinics.ts
- hk-clinics.ts
- ngo-clinics.ts
- sz-clinics.ts

æ‰€æœ‰ API è·¯ç”±éƒ½æœƒå¾ api/data è³‡æ–™å¤¾è®€ JSONï¼Œè«‹å…ˆå»ºç«‹ api/data ç›®éŒ„ï¼Œ
æˆ‘æœƒè‡ªè¡Œæ”¾å…¥ä»¥ä¸‹ JSON æª”æ¡ˆï¼š
- clinic_list_hkcss_cleaned.json
- ngo_clinics_cleaned.json
- shenzhen_dental_clinics_20250407.json
ğŸ“„ api/clinics.tsï¼ˆæ•´åˆæ‰€æœ‰è¨ºæ‰€ï¼‰
ts
è¤‡è£½
ç·¨è¼¯
import type { VercelRequest, VercelResponse } from '@vercel/node';
import fs from 'fs';
import path from 'path';

export default function handler(req: VercelRequest, res: VercelResponse) {
  try {
    const base = path.join(process.cwd(), 'api', 'data');
    const hk = JSON.parse(fs.readFileSync(path.join(base, 'clinic_list_hkcss_cleaned.json'), 'utf8'));
    const ngo = JSON.parse(fs.readFileSync(path.join(base, 'ngo_clinics_cleaned.json'), 'utf8'));
    const sz = JSON.parse(fs.readFileSync(path.join(base, 'shenzhen_dental_clinics_20250407.json'), 'utf8'));

    res.status(200).json([...hk, ...ngo, ...sz]);
  } catch (error) {
    res.status(500).json({ error: 'Failed to read clinic data', message: (error as Error).message });
  }
}
ğŸ“„ api/hk-clinics.ts
ts
è¤‡è£½
ç·¨è¼¯
import type { VercelRequest, VercelResponse } from '@vercel/node';
import fs from 'fs';
import path from 'path';

export default function handler(_req: VercelRequest, res: VercelResponse) {
  try {
    const filePath = path.join(process.cwd(), 'api', 'data', 'clinic_list_hkcss_cleaned.json');
    const data = fs.readFileSync(filePath, 'utf8');
    res.status(200).json(JSON.parse(data));
  } catch (error) {
    res.status(500).json({ error: 'Failed to read HK clinic data' });
  }
}
ğŸ“„ api/ngo-clinics.ts
ts
è¤‡è£½
ç·¨è¼¯
import type { VercelRequest, VercelResponse } from '@vercel/node';
import fs from 'fs';
import path from 'path';

export default function handler(_req: VercelRequest, res: VercelResponse) {
  try {
    const filePath = path.join(process.cwd(), 'api', 'data', 'ngo_clinics_cleaned.json');
    const data = fs.readFileSync(filePath, 'utf8');
    res.status(200).json(JSON.parse(data));
  } catch (error) {
    res.status(500).json({ error: 'Failed to read NGO clinic data' });
  }
}
ğŸ“„ api/sz-clinics.ts
ts
è¤‡è£½
ç·¨è¼¯
import type { VercelRequest, VercelResponse } from '@vercel/node';
import fs from 'fs';
import path from 'path';

export default function handler(_req: VercelRequest, res: VercelResponse) {
  try {
    const filePath = path.join(process.cwd(), 'api', 'data', 'shenzhen_dental_clinics_20250407.json');
    const data = fs.readFileSync(filePath, 'utf8');
    res.status(200).json(JSON.parse(data));
  } catch (error) {
    res.status(500).json({ error: 'Failed to read Shenzhen clinic data' });
  }
}
âœ… âœ¨ æœ€å¾Œè¨˜å¾—ï¼šåŠ å…¥ vercel.json
json
è¤‡è£½
ç·¨è¼¯
{
  "rewrites": [
    { "source": "/(.*)", "destination": "/" }
  ]
}
ğŸ—‚ æ”¾åœ¨æ ¹ç›®éŒ„ï¼Œé¿å… React Router è·¯ç”±åˆ·æ–°éŒ¯èª¤ã€‚

